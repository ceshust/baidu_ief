<!--
1.基于上一任务;
2.限制输入的数字在10-100;
3.队列元素数量最多限制为60个，当超过60个时，添加元素时alert出提示;
4.队列展现方式变化如图，直接用高度表示数字大小;
5.实现一个简单的排序功能，如冒泡排序（不限制具体算法），用可视化的方法表达出来，参考见下方参考资料;
-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <style type="text/css">
        .newdiv{
            float:left;
            background-color:red;
            width:20px;
            margin-left:2px;
            margin-right:2px;
            font-size:10px;
            text-align:center;
        }
    </style>
</head>
<body>
<div style="width:100%;height:25px;background-color:#C0C0C0;">
    <input id="input"></input>
    <input type="button" value="leftin" id="leftin"></input>
    <input type="button" value="rightin" id="rightin"></input>
    <input type="button" value="leftout" id="leftout"></input>
    <input type="button" value="rightout" id="rightout"></input>
    <input type="button" value="从小到大排序" id="paixu1"></input>
    <input type="button" value="从大到小排序" id="paixu2"></input>
</div>
<div id="output" style="width:100%;height:100px;">
</div>
<script>
    function check(x){
        var reg=/^[1-9]\d$/;//正则表达式判断输入
        if(reg.test(x)==false){
            alert("请输入10-100!");
            return false;
        }
        return true;
    }//检查输入函数
    document.getElementById("rightin").onclick=function(){
        var newli=document.getElementById("output").getElementsByTagName("div");
        if(newli.length==60){
            alert("停止输入!");
            return;
        }
        var output=document.getElementById("output");
        var input=document.getElementById("input").value;
        var bool=check(input);
        if(bool==false)
            return;
        var li=document.createElement("div");
        li.className="newdiv";
        li.style.height=input+"px";
        li.style.marginTop=(100-input)+"px";
        li.style.lineHeight=(input*2+10)+"px";
        var divnote=document.createTextNode(input);
        li.appendChild(divnote);
        output.appendChild(li);
    }//右输入函数
    document.getElementById("leftin").onclick=function(){
        var newli=document.getElementById("output").getElementsByTagName("div");
        if(newli.length==60){
            alert("停止输入!");
            return;
        }
        var output=document.getElementById("output");
        var input=document.getElementById("input").value;
        var bool=check(input);
        if(bool==false)
            return;
        var li=document.createElement("div");
        li.className="newdiv";
        li.style.height=input+"px";
        li.style.marginTop=(100-input)+"px";
        li.style.lineHeight=(input*2+10)+"px";
        var divnote=document.createTextNode(input);
        li.appendChild(divnote);
        if(newli.length==0){
            output.appendChild(li);
        }
        else{
            output.insertBefore(li,newli[0]);
        }
    }//左输入函数
    document.getElementById("rightout").onclick=function(){
        var output=document.getElementById("output");
        var newli=document.getElementById("output").getElementsByTagName("div");
        if(newli.length==0){
            alert("没有数值可以删除!");
            return;
        }
        alert("即将消失的数是："+newli[newli.length-1].innerHTML);
        output.removeChild(newli[newli.length-1]);
    }//右输出函数
    document.getElementById("leftout").onclick=function(){
        var input=document.getElementById("input").value;
        var output=document.getElementById("output");
        var newli=document.getElementById("output").getElementsByTagName("div");
        if(newli.length==0){
            alert("没有数值可以删除!");
            return;
        }
        alert("即将消失的数是："+newli[0].innerHTML);
        output.removeChild(newli[0]);
    }//左输出函数
    document.getElementById("paixu1").onclick=function(){
        var newli=document.getElementById("output").getElementsByTagName("div");
        if(newli.length==0){
            alert("没有数值可以排序!");
            return;
        }
        var i,j,k;
        for(i=0;i<newli.length;i++){
            for(j=i;j<newli.length;j++){
                if(newli[i].innerHTML>newli[j].innerHTML){
                    k=newli[i].innerHTML;
                    newli[i].innerHTML=newli[j].innerHTML;
                    newli[j].innerHTML=k;
                }
            }
        }
        for(var m in newli){
            var input=newli[m].innerHTML;
            newli[m].style.height=input+"px";
            newli[m].style.marginTop=(100-input)+"px";
            newli[m].style.lineHeight=(input*2+10)+"px";
        }
    }//从小到大排序
    document.getElementById("paixu2").onclick=function(){
        var newli=document.getElementById("output").getElementsByTagName("div");
        if(newli.length==0){
            alert("没有数值可以排序!");
            return;
        }
        var i,j,k;
        for(i=0;i<newli.length;i++){
            for(j=i;j<newli.length;j++){
                if(newli[i].innerHTML<newli[j].innerHTML){
                    k=newli[i].innerHTML;
                    newli[i].innerHTML=newli[j].innerHTML;
                    newli[j].innerHTML=k;
                }
            }
        }
        for(var m in newli){
            var input=newli[m].innerHTML;
            newli[m].style.height=input+"px";
            newli[m].style.marginTop=(100-input)+"px";
            newli[m].style.lineHeight=(input*2+10)+"px";
        }
    }//从大到小排序
</script>
</body>
</html>